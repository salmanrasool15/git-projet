!function(){"use strict";function e(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}};return n[t](i,i.exports,e),i.exports}var t,n={87729:function(e,t,n){var r,o=n(18489),i=n(27853),a=n(84531),s=n(71873),u=n(24245),p=n(18812),l=n(60276),c=n(84490),d=n(63630),h=n(73696),m=n(36617),_=n(66680),f=n(81743),y={authentication:(0,s.mC)({apiKey:s.Z_,accountId:(0,s.jt)(s.Z_)}),mids:(0,s.jt)(_.p),origin:s.Z_,controllerId:s.Z_,referrer:(0,s.jt)(s.Z_)},g=(s.kw.apply(void 0,(0,h.Z)(Object.keys(f.qp))),n(939)),v=n(6589),w=n(39294),b=function(){if(!window.PaymentRequest)return null;if(/CriOS\/59/.test(navigator.userAgent))return null;if(/.*\(.*; wv\).*Chrome\/(?:53|54)\.\d.*/g.test(navigator.userAgent))return null;if(w.xz)return null;var e=window.PaymentRequest;return e.prototype.canMakePayment||(e.prototype.canMakePayment=function(){return v.J.resolve(!1)}),e}(),O=n(50508),Z=n(56241),q=n(69620),R=n(12024),E=n(47792),P=n(40939),k=n(35918),N=n(47934),C=function(e,t){var n=e.amount,r=e.label,o=e.pending,i=t.currency;return{amount:{value:(0,Z.Fe)(n,i),currency:i.toUpperCase()},label:r,pending:!!o}},j=function(e){return function(t){return t[e]||null}},A={total:function(e){return C(e.total,e)},displayItems:function(e){return e.displayItems?e.displayItems.map((function(t){return C(t,e)})):[]},shippingOptions:function(e,t){var n=e.shippingOptions;if(!n)return[];var r=(0,R.sE)(n,(function(e){return!!t&&e.id===t.shippingOption}))||n[0];return n.map((function(t){var n=function(e,t){var n=e.amount,r=e.label,o=e.detail,i=e.id,a=t.currency;return{amount:{value:(0,Z.Fe)(n,a),currency:a.toUpperCase()},label:o?"".concat(r," â€” ").concat(o):r,id:i}}(t,e);return r===t?(0,o.Z)((0,o.Z)({},n),{},{selected:!0}):(0,o.Z)((0,o.Z)({},n),{},{selected:!1})}))}},S={requestPayerEmail:j("requestPayerEmail"),requestPayerName:j("requestPayerName"),requestPayerPhone:j("requestPayerPhone"),requestShipping:j("requestShipping"),shippingType:j("shippingType")},x=(0,o.Z)((0,o.Z)({},A),{},{error:function(e){var t="success"===e.status?void 0:(0,k.Yo)("auto","errors.payment_request.invalid_shipping_address");return t}}),I=function(e){return function(t,n){var r={};return Object.keys(e).forEach((function(o){var i=(0,e[o])(t,n);null!==i&&(r[o]=i)})),r}},M=I(A),T=I(S),B=I({status:function(e){return"success"===e.status?"success":"fail"}}),L=function(e){if((0,w.jX)(e)){var t=function(e){var t=/Chrome\/(\d+)\.(\d+)\.(\d+)\.(\d+)/.exec(e);return t?Array.prototype.slice.call(t,1).map((function(e){return parseInt(e,10)})):null}(e);if(t&&83===t[0]&&0===t[1]&&(t[2]<4103||4103===t[2]&&t[3]<100))return!0}return!1}(window.navigator.userAgent),F=function(e,t){var n=e.apiKey,r=e.accountId,i=r?"".concat(n,"/").concat(r):n,a=(0,q.lO)(i)===q.Kl.test?{environment:"TEST"}:{},s=t.country,u=t.jcbEnabled,p=t.wallets,l=t.__betas,c=t.blockedCardBrands,d=(0,N.in)(s,u||!1,c||[]),h=p&&-1===p.indexOf("googlePay"),m=!!l&&(0,E.uN)(l,E.M4.google_pay_beta_1)||!w.sV||h,_=!h&&!L&&!(0,P.R)(l).enabled,f=[];if(m&&f.push({supportedMethods:["basic-card"],data:(0,o.Z)((0,o.Z)({},a),{},{supportedNetworks:d})}),_){var y=(0,N.vp)(s,u||!1,c||[]);f.push({supportedMethods:["https://google.com/pay"],data:(0,o.Z)((0,o.Z)({},a),{},{merchantId:"09511744644598700896",apiVersion:1,allowedPaymentMethods:["CARD","TOKENIZED_CARD"],cardRequirements:{allowedCardNetworks:y,billingAddressRequired:!0,billingAddressFormat:"FULL"},paymentMethodTokenizationParameters:{tokenizationType:"PAYMENT_GATEWAY",parameters:{gateway:"stripe","stripe:publishableKey":i,"stripe:version":"Stripe.js/PayWithGoogle"}}})})}return w.P0&&f.push({supportedMethods:["ms-merchant-info"],data:{displayOrigin:document.referrer}}),f},z=function(e,t,n){var r=(0,o.Z)((0,o.Z)({},f.WN),t);return{methods:F(e,r),details:M(r,n),options:T(r,n)}},W=function(e,t){return{shippingOption:t.shippingOptions&&t.shippingOptions.filter((function(t){return t.id===e.shippingOption}))[0]||null,shippingAddress:e.shippingAddress?(n=e.shippingAddress,{addressLine:n.addressLine,city:n.city||"",country:n.country||"",dependentLocality:n.dependentLocality||"",organization:n.organization||"",phone:n.phone||"",postalCode:n.postalCode||"",recipient:n.recipient||"",region:n.region||"",sortingCode:n.sortingCode||""}):null,payerEmail:e.payerEmail||null,payerPhone:e.payerPhone||null,payerName:e.payerName||null,walletName:"basic-card"===e.methodName?"browserCard":"googlePay",methodName:e.methodName};var n},G=function(){function e(t){var n=this;(0,i.Z)(this,e),this._report=function(e,t){n._controller.report(e,(0,o.Z)((0,o.Z)({},t),{},{backingLibrary:"BROWSER",usesButtonElement:n._usesButtonElement}))},this._legacyReport=function(e,t){n._controller.report(e,(0,o.Z)((0,o.Z)((0,o.Z)({},t),null!==n._usesButtonElement?{usesButtonElement:n._usesButtonElement}:{}),{},{impl:"prapi"}))},this._handleEvent=function(e,t){return function(r){var i,a;r.updateWith(n._controller.waitForCallback(t,(i=e,a=n._paymentRequestOptions,{shippingOption:i.shippingOption&&a.shippingOptions&&a.shippingOptions.filter((function(e){return e.id===i.shippingOption}))[0]||null,shippingAddress:i.shippingAddress||null})).then((function(r){var i=(0,s.Gu)(g.F4,r,"".concat(t," callback")),a=i.value;i.warnings.forEach((function(e){return n._controller.warn(e)})),n._paymentRequestOptions=(0,o.Z)((0,o.Z)({},n._paymentRequestOptions),a);var u=function(e,t){var n=I(x)(e,t),r=n.error,i=n.shippingOptions,a=(0,O.Z)(n,["error","shippingOptions"]);return r?(0,o.Z)({error:r},a):(0,o.Z)({shippingOptions:i},a)}(n._paymentRequestOptions,e);return u})))}},this._handleCancel=function(){return function(e){n._controller.event("pr-cancel"),n._legacyReport("payreq.show_rejected",{error:e.message})}},this._handlePayment=function(e){return function(t){var r;if(n._legacyReport("payreq.paymentauthorized",{method:t.methodName}),"basic-card"===t.methodName){var i=t.details,a=i.cardNumber,u=i.cardSecurityCode,p=i.cardholderName,d=i.expiryMonth,h=i.expiryYear,m=i.billingAddress;r=n._controller.unsafeAction(c.OG.TOKENIZE,(0,o.Z)((0,o.Z)({},function(e){return e&&"object"==typeof e&&Array.isArray(e.addressLine)?{address_line1:e.addressLine[0],address_line2:e.addressLine.slice(1).join(", "),address_city:e.city,address_zip:e.postalCode,address_state:e.region,address_country:e.country}:{}}(m)),{},{type:"card",name:p,email:t.payerEmail||void 0,card:{number:a,cvc:u,exp_year:h,exp_month:d},elementName:n._usesButtonElement?l.Yj.paymentRequestButton:void 0,mids:n._mids})).then((function(e){if("object"===e.type){var r=e.object;return n._controller.waitForCallback("token",(0,o.Z)((0,o.Z)({},W(t,n._paymentRequestOptions)),{},{token:r}))}var i=e.error;return n._controller.event("pr-error",{error:i}),{status:"fail"}}))}else{if("https://google.com/pay"!==t.methodName)throw n._legacyReport("fatal.payreq.unexpected_payment_method",{method:t.methodName}),new Error("Unexpected PaymentRequest payment method: ".concat(t.methodName));r=n._controller.waitForCallback("token",(0,o.Z)((0,o.Z)({},W(t,n._paymentRequestOptions)),{},{token:JSON.parse(t.details.paymentMethodToken.token)}))}return r.then((function(r){var i=(0,s.Gu)(g.F4,r,"complete callback"),a=i.value;i.warnings.forEach((function(e){return n._controller.warn(e)})),n._paymentRequestOptions=(0,o.Z)((0,o.Z)({},n._paymentRequestOptions),a);var u=B(n._paymentRequestOptions,e).status;t.complete(u)}))}};var r,a,u=(r=t,a="Payment Request API",(0,s.Gu)((0,s.mC)(y),(0,m.vB)(r),a)),p=u.value,h=u.warnings,_=p.controllerId,v=p.authentication,w=p.mids;this._authentication=v,this._mids=w||null,this._controller=new d.Z(_),this._isShowing=!1,this._usesButtonElement=null,h.forEach((function(e){return n._controller.warn(e)})),this._controller._events.initialize.on((function(e,t){var r=(0,o.Z)((0,o.Z)((0,o.Z)({},f.WN),e),{},{status:f.qp.success});n._merchantOrigin=t,n._setupPaymentRequest(r)})),this._controller.frameActionEvents.checkCanMakePayment.on((function(e){var t=e.complete;if(n._pr){var r=function(e){n._report("pr.browser.can_make_payment_response",{available:e}),n._legacyReport("payreq.can_make_payment_native_response",{available:e}),t({available:e})},o=function(e){n._controller.warn("We were rate-limited from checking if your requested Payment Request options are allowed. Please test again before going live."),n._report("error.pr.browser.can_make_payment_rate_limited",{error:e}),n._legacyReport("error.payreq.can_make_payment_rate_limited",{message:e.message}),t({available:!0})};n._pr.hasEnrolledInstrument?n._pr.hasEnrolledInstrument().then(r).catch(o):n._pr.canMakePayment().then(r).catch(o)}else t({available:!1})})),this._controller.event("load")}return(0,a.Z)(e,[{key:"_setupPaymentRequest",value:function(e){var t=this;this._pr=null,this._isShowing&&(this._controller.event("pr-close"),this._isShowing=!1),this._controller._events.abort.off(),this._controller._events.show.off(),this._controller._events.update.off(),this._paymentRequestOptions=e;var n,r=z(this._authentication,this._paymentRequestOptions,null),i=r.details,a=r.options,s=r.methods;if(b)try{this._pr=new b(s,i,a)}catch(e){}if(this._pr){n=this._pr,["shippingaddresschange","shippingoptionchange"].forEach((function(e){n.addEventListener(e,t._handleEvent(n,e))}));this._controller._events.abort.on((function(){return n.abort()})),this._controller._events.show.on((function(e){var r=e.usesButtonElement;if(t._usesButtonElement=r,t._isShowing)throw new p.No("Already called show() once.");t._isShowing=!0,n.show().then(t._handlePayment(n)).then(u.ZT,t._handleCancel(n)).then((function(){t._setupPaymentRequest(t._paymentRequestOptions)})).catch((function(e){t._legacyReport("fatal.payreq.unexpected_error",{error:e.message})}))})),this._controller._events.update.on((function(e){if(t._isShowing)throw new p.No("You cannot update Payment Request options while the payment sheet is showing.");var n=(0,o.Z)((0,o.Z)({},t._paymentRequestOptions),e);t._setupPaymentRequest(n)}))}else this._legacyReport("payreq.no_pr_object")}}]),e}();r=window.location.hash.substring(1).split("?")[0],new G(r)}},r={};e.m=n,t=[],e.O=function(n,r,o,i){if(!r){var a=1/0;for(l=0;l<t.length;l++){r=t[l][0],o=t[l][1],i=t[l][2];for(var s=!0,u=0;u<r.length;u++)(!1&i||a>=i)&&Object.keys(e.O).every((function(t){return e.O[t](r[u])}))?r.splice(u--,1):(s=!1,i<a&&(a=i));if(s){t.splice(l--,1);var p=o();void 0!==p&&(n=p)}}return n}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[r,o,i]},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.j=7297,e.p="https://js.stripe.com/v3/",function(){var t={7297:0};e.O.j=function(e){return 0===t[e]};var n=function(n,r){var o,i,a=r[0],s=r[1],u=r[2],p=0;if(a.some((function(e){return 0!==t[e]}))){for(o in s)e.o(s,o)&&(e.m[o]=s[o]);if(u)var l=u(e)}for(n&&n(r);p<a.length;p++)i=a[p],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(l)},r=window.webpackChunkStripeJSinner=window.webpackChunkStripeJSinner||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var o=e.O(void 0,[3712],(function(){return e(87729)}));o=e.O(o)}();
//# sourceMappingURL=https://js.stripe.com/v3/sourcemaps/payment-request-inner-browser-df9df78bd40a0bb03d5be43b73ed53b2.js.map